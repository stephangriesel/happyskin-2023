---
// Component Imports
import Head from "../components/Head.astro";
// import { ViewTransitions } from "astro:transitions";

import Nav from "../components/Nav.astro";
// import Footer from "../components/Footer.astro";
import { SITE } from "../config";
let { title } = SITE;
let description = "Beauty salon";
let permalink = "https://www.happyskin.co.za";
---

<html lang="en">
  <head>
    <Head {title} {description} {permalink} />
    <!-- <ViewTransitions fallback="animate" /> -->
  </head>
  <body>
    <div class="ml-[auto] mr-[auto] w-full max-w-[65em] pl-[2rem] pr-[2rem]">
      <Nav />
    </div>
    <section class="w-full h-screen">
      <img
        src="https://res.cloudinary.com/stephangriesel/image/upload/v1701322161/happyskin/default-bg_o2qhzy.jpg"
        class="object-cover w-full h-full animation"
        alt="Facial"
      />
    </section>
    <!-- <Footer /> -->
    <style>
      .animation {
        opacity: 0;
        transition: all 0.7s ease-out;
        transition-delay: 0.4s;
      }

      .scroll-animation {
        opacity: 1;
        transform: translateX(0);
      }
    </style>
    <script>
      const the_animation = document.querySelectorAll(".animation");

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("scroll-animation");
            } else {
              entry.target.classList.remove("scroll-animation");
            }
          });
        },
        { threshold: 0.5 }
      );
      //
      for (let i = 0; i < the_animation.length; i++) {
        const elements = the_animation[i];

        observer.observe(elements);
      }
    </script>
  </body>
</html>
